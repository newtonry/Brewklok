<div class='container'>
	<div class='row'>
		<h2 class="col-md-6"><%= @recipe.name %>
			<a href="<%= run_recipe_url(@recipe) %>"><button class="btn btn-warning" >Brew!</button></a>
		</h2>
	</div>
	<% if !@recipe.notes.nil? %>
		<h5><%= @recipe.notes %></h5>
	<% end %>

	<div id='graph-container' class='container'>
		<div id='graph'>
		</div>
	</div>

	<h3>
		Ingredients 
		<i class="glyphicon glyphicon-edit" id="edit-button" data-recipeid="<%= @recipe.id %>"
			onClick="makeRecipeEditable(event);"></i>
			
		<i class="glyphicon glyphicon-floppy-disk" id="save-button" onClick="saveRecipe();"></i>
		<i class="glyphicon glyphicon-floppy-remove" id="cancel-save-button" onClick="cansleSaveRecipe();"></i>	
		
			
			<!-- <button class="btn btn-success" id="save-button" onClick="saveRecipe();">Save</button> -->
	</h3>

	<table class="table" id="ingredient-table">
		<thead>
			<tr>
				<th>Time</th>
				<th>Ingredient</th>
				<th>Amount</th>
				<th>Notes</th>
			</tr>
		</thead>

		<tbody id="ingredient-table-body">
			<% @recipe.ingredients.each do |ingredient| %>
			<tr class='ingredient-listing' data-ingredientId="<%= ingredient.id %>">
				<td class='ingredient-attr ingredient-time'><%= ingredient.time %></td>
				<td class='ingredient-attr ingredient-name'><%= ingredient.name %></td>
				<td class='ingredient-attr ingredient-amount'><%= ingredient.amount %></td>
				<td class='ingredient-attr ingredient-notes'><%= ingredient.notes %></td>
			</tr>
	
			<script>
				addToGraph(<%= ingredient.id %>, 
											"<%= ingredient.name %>", 
											<%= ingredient.time %>, 
											<%= @recipe.ingredients.last.time + 5 %>);											
			</script>
			<% end %>
		</tbody>	
	</table>
</div>
	<script>
		initializeCanvas();
	</script>
